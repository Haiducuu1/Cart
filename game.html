<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cartoon Hazard</title>

<style>
:root{
  --cardW:200px;
  --cardH:260px;
}

body{
  margin:0;
  font-family:'Comic Sans MS',sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  transition:0.3s;
}

body.normal{background:linear-gradient(135deg,#ffeb3b,#ff9800)}
body.weird{background:linear-gradient(135deg,#9c27b0,#00bcd4)}
body.dark{background:linear-gradient(135deg,#212121,#000)}
body.adult{background:linear-gradient(135deg,#b71c1c,#880e4f)}

header{
  text-align:center;
  color:white;
  padding:15px;
  font-size:2rem;
}

.controls{
  display:flex;
  justify-content:center;
  gap:15px;
  flex-wrap:wrap;
  margin-top:10px;
}

.controls button{
  padding:12px 20px;
  border:none;
  border-radius:15px;
  font-size:1rem;
  cursor:pointer;
  box-shadow:0 5px 0 #333;
}

.cards{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:30px;
  flex-wrap:wrap;
}

.card{
  width:var(--cardW);
  height:var(--cardH);
  background:white;
  border-radius:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  box-shadow:0 10px 0 #333;
  user-select:none;
}

.card.disabled{
  background:#ccc;
  cursor:not-allowed;
  box-shadow:0 5px 0 #999;
}

.story{
  margin:30px auto;
  background:white;
  padding:20px;
  border-radius:15px;
  width:90%;
  max-width:900px;
  font-size:1.2rem;
  min-height:80px;
}

footer{
  margin-top:auto;
  background:#111;
  color:white;
  text-align:center;
  padding:15px;
  font-size:0.9rem;
}

footer a{
  color:#ff1414fc;
  margin:0 10px;
  text-decoration:none;
}

/* POPUP 18+ */
#adultPopup{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.8);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

#adultPopup .box{
  background:white;
  padding:30px;
  border-radius:20px;
  max-width:400px;
  text-align:center;
  box-shadow:0 10px 0 #333;
}

#adultPopup button{
  padding:15px 30px;
  border:none;
  border-radius:15px;
  font-size:1rem;
  cursor:pointer;
  margin:10px;
}

.yes{background:#4caf50;color:white}
.no{background:#f44336;color:white}

/* MOBILE */
@media(max-width:600px){
  :root{
    --cardW:150px;
    --cardH:200px;
  }
  header{font-size:1.6rem}
}
</style>
</head>

<body>
<header>üÉè Cartoon Hazard</header>

<div class="controls">
  <button onclick="newRound()">üîÑ RundƒÉ nouƒÉ</button>
  <button onclick="location.href='index.html'">üè† Main Menu</button>
</div>

<!-- POPUP 18+ -->
<div id="adultPopup">
  <div class="box">
    <h2>üîû Con»õinut 18+</h2>
    <p>Acest mod con»õine glume pentru adul»õi.<br>Ai peste 18 ani?</p>
    <button class="yes" onclick="acceptAdult()">Da</button>
    <button class="no" onclick="location.href='index.html'">Nu</button>
  </div>
</div>

<div class="cards">
  <div class="card" onclick="pick(0,this)">√énceput</div>
  <div class="card" onclick="pick(1,this)">Continuare</div>
  <div class="card" onclick="pick(2,this)">Final</div>
</div>

<div class="story" id="story"></div>

<footer>
  <a href="#">Instagram</a> |
  <a href="#">Discord</a> |
  <a href="#">TikTok</a><br>
  ¬© 2026 Cartoon Hazard
</footer>

<script>
const params=new URLSearchParams(window.location.search);
const mode=params.get('mode')||'normal';
document.body.classList.add(mode);

let jokesLoaded=false;
let used=[false,false,false];

function loadJokes(){
  const s=document.createElement('script');
  s.src=`jokes-${mode}.js`;
  s.onload=()=>jokesLoaded=true;
  document.body.appendChild(s);
}

if(mode==='adult'){
  document.getElementById('adultPopup').style.display='flex';
}else loadJokes();

function acceptAdult(){
  document.getElementById('adultPopup').style.display='none';
  loadJokes();
}

function pick(t,card){
  if(!jokesLoaded||used[t])return;
  let arr=[jokes.b,jokes.m,jokes.e][t];
  let txt=arr[Math.floor(Math.random()*arr.length)];
  if(t!==0) txt=" "+txt;
  document.getElementById('story').innerText+=txt;
  used[t]=true;
  card.classList.add('disabled');
}

function newRound(){
  used=[false,false,false];
  document.getElementById('story').innerText="";
  document.querySelectorAll('.card').forEach(c=>c.classList.remove('disabled'));
}
</script>
</body>
</html>
